##########################################################
#     Automatically generated by the PandA framework     #
##########################################################

load_package report
project_open alu
load_report
create_timing_netlist
read_sdc HLS_output//Synthesis/alu.sdc
update_timing_netlist
file delete -force HLS_output//Synthesis/quartus_13_sta/alu_report.xml
set ofile_report [open HLS_output//Synthesis/quartus_13_sta/alu_report.xml w]
puts $ofile_report "<?xml version=\"1.0\"?>"
puts $ofile_report "<document>"
puts $ofile_report "  <application>"
puts $ofile_report "    <section stringID=\"QUARTUS_SYNTHESIS_SUMMARY\">"
set le_usage [get_fitter_resource_usage -le -used]
puts $ofile_report "      <item stringID=\"ALTERA_LE\" value=\"$le_usage\"/>"
set lab_usage [get_fitter_resource_usage -lab -used]
puts $ofile_report "      <item stringID=\"ALTERA_LAB\" value=\"$lab_usage\"/>"
set reg_usage_string [get_fitter_resource_usage -resource "Total registers*"]
set reg_usage_array [split $reg_usage_string /]
set reg_usage [string trim [lindex $reg_usage_array 0]]
puts $ofile_report "      <item stringID=\"ALTERA_REGISTERS\" value=\"$reg_usage\"/>"
set mem_usage [get_fitter_resource_usage -mem_bit -used]
puts $ofile_report "      <item stringID=\"ALTERA_MEM\" value=\"$mem_usage\"/>"
set iopin_usage [get_fitter_resource_usage -io_pin -used]
puts $ofile_report "      <item stringID=\"ALTERA_IOPIN\" value=\"$iopin_usage\"/>"
set alut_usage [get_fitter_resource_usage -alut -used]
puts $ofile_report "      <item stringID=\"ALTERA_ALUT\" value=\"$alut_usage\"/>"
set dsp_usage_string [get_fitter_resource_usage -resource "Embedded*"]
set dsp_usage_array [split $dsp_usage_string /]
set dsp_usage [string trim [lindex $dsp_usage_array 0]]
puts $ofile_report "      <item stringID=\"ALTERA_DSP\" value=\"$dsp_usage\"/>"
set alm_usage [get_fitter_resource_usage -alm -used]
puts $ofile_report "      <item stringID=\"ALTERA_ALM\" value=\"$alm_usage\"/>"
set slack [lindex [report_timing] 1]
puts $ofile_report "      <item stringID=\"SLACK\" value=\"$slack\"/>"
puts $ofile_report "    </section>"
puts $ofile_report "  </application>"
puts $ofile_report "</document>"
close $ofile_report
unload_report
delete_timing_netlist
project_close

